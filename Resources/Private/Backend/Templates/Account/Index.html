{namespace sfoa = Tx_SfOauth_ViewHelpers}

<f:layout name="default" />

<f:section name="iconButtons"/>

<f:section name="content">

<table cellspacing="0" cellpadding="0" border="0" class="typo3-dblist">

	<!-- Element, begin: -->
	<tbody>
		<tr class="c-table-row-spacer">
			<td nowrap="nowrap" class="col-icon"><img width="1" height="8" alt="" src="clear.gif"></td>
			<td nowrap="nowrap" class=""><img width="100" height="1" alt="" src="clear.gif"></td>
			<td nowrap="nowrap" colspan="2" class=""></td>
			<td nowrap="nowrap" colspan="3" class=""></td>
		</tr>
		<!-- Element, begin: -->
		<tr class="t3-row-header">
			<td nowrap="nowrap" class="col-icon">&nbsp;</td>
			<td nowrap="nowrap" colspan="6" class=""></td>
		</tr>
		<!-- Element, begin: -->
		<tr class="c-headLine">
			<td nowrap="nowrap" class="col-icon"><sfoa:be.buttons.icon uri="{f:uri.action(action: 'new')}" icon="new_el" title="{f:translate(key: 'new_account')}" /></td>
			<td nowrap="nowrap" class="col-title"><a><f:translate key="account_title"/>:</a></td>
			<td nowrap="nowrap" class="col-clipboard">&nbsp;</td>
			<td nowrap="nowrap" class="col-control-space">&nbsp;</td>
			<td nowrap="nowrap" class=""><f:translate key="account_consumer_title"/>:</td>
			<td nowrap="nowrap" class=""><f:translate key="account_key"/>:</td>
			<td nowrap="nowrap" class=""></td>
		</tr>
<f:for each="{accounts}" as="account">
		<!-- Element, begin: -->
		<tr class="db_list_normal firstcol lastcol">
			<td nowrap="nowrap" class="col-icon"></td>
			<td nowrap="nowrap" class="col-title">{account.title}</td>
			<td nowrap="nowrap" class="col-clipboard">
				<sfoa:be.buttons.icon uri="{f:uri.action(action: 'edit', arguments:{account: account.uid})}" icon="edit2" title="{f:translate(key: 'edit')} '{account.title}'" />
				<f:link.action action="delete" arguments="{account: account.uid}"><img src="sysext/t3skin/icons/gfx/garbage.gif" alt="" title="{f:translate(key: 'delete')} '{account.title}'"/></f:link.action>
			<f:if condition="{account.hasWarning}">
				<sfoa:be.buttons.icon uri="{f:uri.action(action: 'authorize', arguments: {account: account.uid})}" icon="warning" />
			</f:if>
			<f:if condition="{account.hasError}">
				<sfoa:be.buttons.icon uri="{f:uri.action(action: 'new')}" icon="error" />
			</f:if>
			<f:if condition="{account.isOk}">
				<sfoa:be.buttons.icon uri="" icon="ok" />
			</f:if>
			</td>
			<td nowrap="nowrap" class="col-control-space">&nbsp;</td>
			<td nowrap="nowrap" class="">{account.consumer.title}</td>
			<td nowrap="nowrap" class="">
				<f:if condition="{account.isOk}">
					<f:then>{account.uid}</f:then>
					<f:else><f:translate key="authorization_needed"/></f:else>
				</f:if>
			</td>
			<td nowrap="nowrap" class="">&nbsp;</td>
		</tr>
</f:for>
	</tbody>
</table>

</f:section>